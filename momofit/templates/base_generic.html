<!DOCTYPE html>
  <html lang="en">
  <head>
    {% block title %}<title>MomoFit</title>{% endblock %}
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% load static %}
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'img/favicon.png' %}" />
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
    <script type="text/javascript" src="{% static 'jquery-3.3.1.js' %}"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>
  <body>
    {% block navbar %}
    <nav class="navbar teal lighten-1">
      <div class="nav-wrapper">
        {% if user.is_authenticated %}
        <a href="{% url 'profile' %}" class="brand-logo">
        {% else %}
        <a href="{% url 'login' %}" class="brand-logo">
        {% endif %}
          <img src="{% static 'img/logo.png' %}" class="logo">
        </a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          {% if user.is_authenticated %}
            <li class="user-info">
              {% load cloudinary %}      
              {% cloudinary user.user_pic format="jpg" width=120 height=120 crop="fill" class="user-image-style"%}
              {{ user.username }}
            </li>
            <li><a href="{% url 'logout' %}">登出</a></li>
          {% else %}
            <li><a href="{% url 'login' %}">登入</a></li>
            <li><a href="{% url 'signup' %}">註冊</a></li>
          {% endif %}
        </ul>
      </div>
    </nav>
    {% endblock %}
          
    {% block sidebar %}
      <ul id="slide-out" class="sidenav sidenav-fixed">
        <li>
          <a class="waves-effect" href="{% url 'profile' %}">
            <i class="material-icons">assignment_ind</i> 個人檔案
          </a>
        </li>
        <li>
          <a class="waves-effect" href="#!">
            <i class="material-icons">local_dining</i> 飲食紀錄
          </a>
        </li>
        <li>
          <a class="waves-effect" href="#!">
            <i class="material-icons">fitness_center</i> 健身紀錄
          </a>
        </li>
        <li>
          <a class="waves-effect" href="{% url 'menu' %}">
            <i class="material-icons">library_books</i> 菜單推薦
          </a>
        </li>
        <!-- <li><div class="divider"></div></li> -->
      </ul>
 
      <a href="#" data-target="slide-out" class="sidenav-trigger">
        <i class="material-icons">menu</i>
      </a>

    {% endblock %}
    
    <div class="block-content">
      {% block content %}
      {% endblock %}
    </div>
    {% block sign-in-content %}
    {% endblock %}

    <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.sidenav');
        var instances = M.Sidenav.init(elems);
        $('select').formSelect();
        $('.modal').modal();
      });
    </script>
    {% block js-block %}
    {% endblock%}
  </body>
</html>